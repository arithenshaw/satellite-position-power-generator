# Solar Panel Power Generator Simulator

An API for simulating solar panel power generation on orbiting satellites using FastAPI. This project calculates the power generated by solar panels using the satellite position, sun direction, panel orientation, and Earth shadow effects which are gotten through kepler's thrid law and skyfield library.

## Overview

The power output of the solar panel on satellites is determined by:

1. **Satellite Position**: Calculates the satellite's position around Earth using either circular orbit parameters or Two-Line Element (TLE) data
2. **Sun Position**: Uses time-varying sun vector relative to Earth (via Skyfield library with DE421 ephemeris)
3. **Panel Orientation**: Models anti-nadir pointing (panel normal points away from Earth)
4. **Earth Shadow**: Implements cylindrical umbra model to detect when satellite is in eclipse
5. **Power Calculation**: Computes power based on incidence angle between sun rays and panel normal

## Installation

### Prerequisites

- Python 3.8 or higher
- pip package manager

### Setup

1. Clone the repository:
```bash
git clone https://github.com/arithenshaw/satellite-position-power-generator
cd satellite-position-power-generator
```

2. Create a virtual environment (recommended):
```bash
python -m venv venv
source venv/bin/activate  # On Windows: venv\Scripts\activate
```

3. Install dependencies:
```bash
pip install -r requirements.txt
```

## Usage

### Starting the Server

Using uvicorn directly:

```bash
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

The API will be available at:
- **API Base**: `http://localhost:8000`
- **Interactive Docs**: `http://localhost:8000/docs` (Swagger UI)

Or testing on the cloud server:

URL: `https://satellite-position-power-generator-production.up.railway.app/`

I- **Interactive Docs**: `https://satellite-position-power-generator-production.up.railway.app/docs` (Swagger UI)

## Dependencies

- **fastapi**: Modern web framework for building APIs
- **uvicorn**: ASGI server for running FastAPI
- **pydantic**: Data validation using Python type annotations
- **skyfield**: Astronomical calculations and ephemeris handling
- **numpy**: Numerical computations
- **matplotlib**: Plot generation
- **pandas**: Data manipulation and CSV export
- **celery** & **redis**: For async task processing (optional)